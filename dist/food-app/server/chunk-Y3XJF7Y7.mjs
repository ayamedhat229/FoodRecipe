import './polyfills.server.mjs';
import{a as Z,b as ee,c as te,i as ie,k as ne}from"./chunk-ROI3HFMM.mjs";import{a as K,ba as H,ca as q,d as $,da as J,ea as Q,ga as W,i as G,ja as X,o as Y}from"./chunk-WLEBUI7C.mjs";import{a as C}from"./chunk-2SY5OC6K.mjs";import{a as R,l as A,o as V,p as B,q as _}from"./chunk-GZJXOSWJ.mjs";import{$b as j,Cb as T,Gb as h,Hb as I,Hc as O,Kc as z,Lc as F,Oa as b,Qb as L,Rb as a,Sb as p,W as D,X as v,Yb as N,Za as l,Zb as P,_a as d,aa as M,ea as f,fa as x,ja as U,ka as w,lb as k,nb as c,xb as e,yb as i,zb as m}from"./chunk-T3NVKTYB.mjs";import"./chunk-VVCT4QZE.mjs";var re=(()=>{let t=class t{constructor(r,n){this.dialogRef=r,this.data=n}onNoClick(){this.dialogRef.close()}ngOnInit(){}};t.\u0275fac=function(n){return new(n||t)(d(H),d(q))},t.\u0275cmp=f({type:t,selectors:[["app-delete-user-list"]],decls:17,vars:2,consts:[["id","deleteCategory",1,""],[1,"btnClose","myPointer","d-block","text-end",3,"click"],[1,"fa-regular","fa-circle-xmark"],[1,"text-center"],["src","../../../assets/images/deleteDialog.png"],[1,"text-black","text-center","pt-2"],[1,"fw-bold"],[1,"text-end","m-2"],[1,"btn","btn-outline-danger","text-end",3,"mat-dialog-close"]],template:function(n,o){n&1&&(e(0,"section",0)(1,"a",1),h("click",function(){return o.onNoClick()}),m(2,"i",2),i(),e(3,"mat-dialog-content")(4,"div",3),m(5,"img",4),e(6,"h4",5),a(7,"Delete this ("),e(8,"span",6),a(9),i(),a(10,")?"),i(),e(11,"p"),a(12,"are you sure you want to delete this item? if you are sure just click on delete it "),i(),m(13,"hr"),i()(),e(14,"div",7)(15,"button",8),a(16,"Delete this item"),i()()()),n&2&&(l(9),p(o.data.userName),l(6),c("mat-dialog-close",o.data.id))},dependencies:[Q,W]});let s=t;return s})();var E=(()=>{let t=class t{constructor(r){this._httpClient=r}getUserList(r){return this._httpClient.get("Users/",{params:r})}deleteUser(r){return this._httpClient.delete(`Users/${r}`)}getUserByID(r){return this._httpClient.get(`Users/${r}`)}ngOnInit(){}};t.\u0275fac=function(n){return new(n||t)(M(R))},t.\u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"});let s=t;return s})();var ce=s=>["/dashboard/admin/view-user/",s];function ue(s,t){if(s&1){let u=T();e(0,"tr")(1,"td"),a(2),i(),e(3,"td"),m(4,"img",20),i(),e(5,"td"),a(6),i(),e(7,"td"),a(8),i(),e(9,"td"),a(10),i(),e(11,"td"),a(12),P(13,"date"),i(),e(14,"td")(15,"button",21)(16,"span"),m(17,"i",22),i()(),e(18,"mat-menu",null,23)(20,"button",24),m(21,"i",25),e(22,"span",26),a(23,"View"),i()(),e(24,"button",27),h("click",function(){let o=U(u).$implicit,g=I();return w(g.openDeleteListUser(o))}),m(25,"i",28),e(26,"span",26),a(27,"Delete"),i()()()()()}if(s&2){let u=t.$implicit,r=L(19),n=I();l(2),p(u.userName),l(2),c("src",u.imagePath?n.imagePath+u.imagePath:n.DummyImage,b),l(2),p(u.country),l(2),p(u.phoneNumber),l(2),p(u.email),l(2),p(j(13,8,u.modificationDate,"MMM d, y, h:mm:ss a")),l(3),c("matMenuTriggerFor",r),l(5),c("routerLink",N(11,ce,u.id))}}var oe=(()=>{let t=class t{constructor(r,n,o,g){this._listUser=r,this.dialog=n,this.toastr=o,this._Router=g,this.tableUser=[],this.imagePath="https://upskilling-egypt.com/",this.DummyImage="../../../assets/images/userphoto.png",this.SearchKey="",this.SearchKeyByEmail="",this.length=20,this.pageSize=5,this.pageNumber=1,this.pageIndex=0,this.pageSizeOptions=[5,10,20]}getUsers(){let r={pageSize:this.pageSize,pageNumber:this.pageNumber,userName:this.SearchKey,email:this.SearchKeyByEmail};this._listUser.getUserList(r).subscribe({next:n=>{console.log(n),this.tableUser=n.data},error:n=>{console.log(n)},complete:()=>{}})}openDeleteListUser(r){console.log(r),this.dialog.open(re,{data:r}).afterClosed().subscribe(o=>{console.log("The dialog was closed"),console.log(o),o&&this.onDeleteUser(o)})}onDeleteUser(r){this._listUser.deleteUser(r).subscribe({next:n=>{console.log(n)},error:n=>{console.log(n)},complete:()=>{this.getUsers(),this.toastr.success("The user has been deleted successfully","Success")}})}handlePageEvent(r){this.pageEvent=r,this.length=r.length,this.pageSize=r.pageSize,this.pageIndex=r.pageIndex,this.getUsers()}ngOnInit(){this.getUsers()}};t.\u0275fac=function(n){return new(n||t)(d(E),d(J),d(C),d(V))},t.\u0275cmp=f({type:t,selectors:[["app-listuser"]],decls:50,vars:7,consts:[["id","header"],[1,"container"],[1,"row","align-items-center"],[1,"col-6","p-5"],[1,"mx-1","lead","text-white-50","fa-1x"],[1,"pt-2"],[1,"col-6","text-end"],["src","../../../assets/images/categoryPic.png",1,"w-25","pb-4"],["id","addnewItem"],[1,"col-8"],[1,"col-6"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],[1,"fa-solid","fa-search",2,"color","#8391A1"],["type","text","placeholder","Search by name","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],["type","text","placeholder","Search by Email","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"table"],[1,"col"],[4,"ngFor","ngForOf"],["aria-label","Select page",3,"length","pageSize","pageIndex","pageSizeOptions","page"],[1,"DummyImage",3,"src"],["mat-button","",3,"matMenuTriggerFor"],[1,"fa-solid","fa-ellipsis"],["menu","matMenu"],["mat-menu-item","",3,"routerLink"],[1,"fa-regular","fa-eye","primary","p-1"],[1,"primary"],["mat-menu-item","",3,"click"],[1,"fa-solid","fa-trash-can","primary","p-1"]],template:function(n,o){n&1&&(e(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2")(5,"span"),a(6,"Users"),i(),e(7,"span",4),a(8,"List"),i()(),e(9,"p",5),a(10,"You can now add items that any user can orderd it from the application and you can edit. "),i()(),e(11,"div",6),m(12,"img",7),i()()()(),e(13,"section",8)(14,"div",2)(15,"div",9)(16,"h2"),a(17,"Users Table Details"),i(),e(18,"p"),a(19,"You Can cheak all details"),i()(),e(20,"div",10)(21,"div",11)(22,"span",12),m(23,"i",13),i(),e(24,"input",14),h("ngModelChange",function(y){return o.SearchKey=y})("keyup.enter",function(){return o.getUsers()}),i()()(),e(25,"div",10)(26,"div",11)(27,"span",12),m(28,"i",13),i(),e(29,"input",15),h("ngModelChange",function(y){return o.SearchKeyByEmail=y})("keyup.enter",function(){return o.getUsers()}),i()()()(),e(30,"table",16)(31,"thead")(32,"tr")(33,"th",17),a(34,"Name"),i(),e(35,"th",17),a(36,"Image"),i(),e(37,"th",17),a(38,"Country"),i(),e(39,"th",17),a(40,"PhoneNumber"),i(),e(41,"th",17),a(42,"Email"),i(),e(43,"th",17),a(44,"ModificationDate"),i(),e(45,"th",17),a(46,"Action"),i()()(),e(47,"tbody"),k(48,ue,28,13,"tr",18),i()(),e(49,"mat-paginator",19),h("page",function(y){return o.handlePageEvent(y)}),i()()),n&2&&(l(24),c("ngModel",o.SearchKey),l(5),c("ngModel",o.SearchKeyByEmail),l(19),c("ngForOf",o.tableUser),l(),c("length",o.length)("pageSize",o.pageSize)("pageIndex",o.pageIndex)("pageSizeOptions",o.pageSizeOptions))},dependencies:[O,B,K,$,X,ee,Z,te,G,ie,z]});let s=t;return s})();var se=(()=>{let t=class t{constructor(r,n,o){this._listUser=r,this.toastr=o,this.userData=[],this.imagePath="https://upskilling-egypt.com/",this.DummyImage="../../../assets/images/userphoto.png",this.userListId=n.snapshot.params.id,console.log(this.userListId)}openViewProfile(r){this._listUser.getUserByID(r).subscribe({next:n=>{this.userData=n,console.log(this.userData)},error:n=>{console.log(n)}})}ngOnInit(){this.openViewProfile(this.userListId)}};t.\u0275fac=function(n){return new(n||t)(d(E),d(A),d(C))},t.\u0275cmp=f({type:t,selectors:[["app-view-user"]],decls:35,vars:5,consts:[["id","fill-recipes",1,""],[1,"text-success"],[1,"d-flex","justify-content-center","py-5"],[1,"card","mb-3","w-75","h-75"],[1,"row","g-2"],[1,"col-md-4","picture"],[1,"DummyImage",3,"src"],[1,"col-md-8"],[1,"card-body","pt-4"],[1,"card-title","pb-2","primary"],[1,"fw-bold"],[1,"p-2","fw-light"],[1,"w-50"]],template:function(n,o){n&1&&(e(0,"div",0)(1,"h2"),a(2,"User"),e(3,"span",1),a(4,"Details"),i()(),e(5,"p"),a(6,"you can now view user details easily ..."),i()(),e(7,"div",2)(8,"div",3)(9,"div",4)(10,"div",5),m(11,"img",6),i(),e(12,"div",7)(13,"div",8)(14,"h3",9),a(15,"User Data"),i(),e(16,"p",10),a(17,"Name:"),e(18,"span",11),a(19),i()(),m(20,"hr",12),e(21,"p",10),a(22,"Email:"),e(23,"span",11),a(24),i()(),m(25,"hr",12),e(26,"p",10),a(27,"Country:"),e(28,"span",11),a(29),i()(),m(30,"hr",12),e(31,"p",10),a(32,"PhoneNumber:"),e(33,"span",11),a(34),i()()()()()()()),n&2&&(l(11),c("src",o.userData.imagePath?o.imagePath+o.userData.imagePath:o.DummyImage,b),l(8),p(o.userData.userName),l(5),p(o.userData.email),l(5),p(o.userData.country),l(5),p(o.userData.phoneNumber))},styles:[".picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;border-radius:80px;padding:20px}.container[_ngcontent-%COMP%]{font-family:Cambria,Cochin,Georgia,Times,Times New Roman,serif}.btn-success[_ngcontent-%COMP%]{position:absolute;right:25%}"]});let s=t;return s})();var ge=[{path:"listuser",component:oe},{path:"view-user/:id",component:se}],le=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=x({type:t}),t.\u0275inj=v({imports:[_.forChild(ge),_]});let s=t;return s})();var Ae=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=x({type:t}),t.\u0275inj=v({imports:[F,le,ne,Y]});let s=t;return s})();export{Ae as ListUserModule};
